{% extends 'Student/StudentMaster.html' %}

{% block content%}
<div class="bd">
    
<form method="POST" action="{% url 'institute_app:add_student' %}" class="reg-form" enctype="multipart/form-data">
    {% csrf_token %}
   
    {% if error_msg  %}
 <div class="alert alert-danger w-50 tb"  style="border-radius: 10px;margin-top: 10px; opacity: .9;" role="alert">
  {{error_msg}}
 </div>

 
 {% endif %}


 <div class="alert alert-danger tb"  id="err_display" style="border-radius: 10px;margin-top: 10px; opacity: .9;display: none;margin-left: 400px; width: 360px;" role="alert">
  
 </div>

 


<img src="{{data.s_pic.url}}" alt="" height="150px" width="150px" style="border-radius: 150px;margin-left: 280px; ">
<table style="border-spacing: 10px;border-collapse: separate;margin-left: 330px; color: white;font-weight: bold;">
    <tr>
        <td>Name</td>
         <td><input type="text" name="st_name" value="{{data.s_name|title}}" class="form-control" id="st_name" readonly></td>
    </tr>
    <tr>
        <td >Gender</td>
        <td><input type="text" name="st_gender" value="{{data.s_gender|title}}" class="form-control" id="st_name" readonly></td>

    </tr>
    <tr>
        <td>Course</td>
        <td><input type="text" name="st_course" value="{{data.c_id.c_name|title}}" class="form-control" id="st_name" readonly></td>
        
    </tr>
  
    <tr>
        <td>D.O.B</td>
        <td><input type="text" name="st_dob" value="{{data.s_dob}}" class="form-control" id="st_name" readonly></td>

    </tr>
    <tr>
        <td>College</td>
        <td><input type="text" name="st_colg" value="{{data.s_colg|title}}" class="form-control" id="st_name" readonly></td>

    </tr>
    <tr>
        <td>Qualification</td>
        <td><input type="text" name="st_qual" value="{{data.s_qual|title}}" class="form-control" id="st_name" readonly></td>

    </tr>
    <tr>
        <td>PassOut</td>
        <td><input type="text" name="st_name" value="{{data.s_passout}}" class="form-control" id="st_name" readonly></td>

    </tr>
    
    <tr>
        <td>Email</td>
            <td><input type="text" name="st_email" value="{{data.s_email}}" class="form-control" id="st_name" readonly></td>

    </tr>
    <tr>
        <td>Phone No</td>
        <td><input type="text" name="st_phno" value="{{data.s_phno}}" class="form-control" id="st_name" readonly></td>
         
    </tr>
    
  
    
</table>

</form>
</div>

<script>
$(document).ready(()=>{
    $('#btn').click(()=>{
       
    
    var sname=$('#id_s_name') 
    var dob=$('#id_s_dob')
    var colg=$('#id_s_colg')
    var passout=$('#id_s_passout')
    var address=$('#id_s_address')
    var email=$('#id_s_email') 
    var phno=$('#id_s_phno') 
    var amt=$('#id_amt_payable')     
    var ins1=$('#ins1').val()
    var ins2=$('#ins2').val()
    var ins3=$('#ins3').val()
    var err=$('#err_display')
    var name_format=/^[a-z A-Z]+$/
    var reg_email = /^[A-Z0-9._%+-]+@([A-Z0-9-]+\.)+[A-Z]{2,4}$/i;
      
    dob_format = /^(0?[1-9]|[12][0-9]|3[01])[\/\-](0?[1-9]|1[012])[\/\-]\d{4}$/
   
    if(sname.val()==''){
        err.css({'display':'block','color':'red'})
        err.html('Please Enter Name')
        sname.focus()
        return false
    }
    else{
        err.css({'display':'none'})
    }



    if(address.val()==''){
        err.css({'display':'block','color':'red'})
        err.html('Please Enter Address')
        address.focus()
        return false
    }
    else{
        err.css({'display':'none'})
    }
    if(email.val()==''){
        err.css({'display':'block','color':'red'})
        err.html('Please Enter Email')
        email.focus()
        return false
    }
    else{
        err.css({'display':'none'})
    }
    
    if(!reg_email.test(email)){
         
        err.css({'display':'block','color':'red'})
        err.html('Invalid Email Format')
        phno.focus()
        
        return false;
    }

    else{
        err.css({'display':'none'})
    }

    if(phno.val()==''){
        err.css({'display':'block','color':'red'})
        err.html('Please Enter Phone')
        phno.focus()
        return false
    }
    else{
        err.css({'display':'none'})
    }
 

    if(name_format.test(sname.val())==false){
        
        err.css({'display':'block','color':'red'})
        err.html('Name Should Not Contain Numbers')
        sname.focus()
        return false
    }
    else{
        err.css({'display':'none'})
    }



    if(dob_format.test(dob.val())==false){
        alert('yes')
        err.css({'display':'block','color':'red'})
        err.html('Invalid DOB')
        dob.focus()
        return false
    }
    else{
        err.css({'display':'none'})
    }


    if(dob.val()==''){
        
        err.css({'display':'block','color':'red'})
        err.html('Enter D.O.B')
        dob.focus()
        return false
    }
    else{
        err.css({'display':'none'})
    }

    if(colg.val()==''){
        err.css({'display':'block','color':'red'})
        err.html('Please Enter College Name')
        colg.focus()
        return false
    }
    else{
        err.css({'display':'none'})
    }
    
   

    if(passout.val().length!=4){
       
        err.css({'display':'block','color':'red'})
        err.html('Enter Valid Passout Year')
        passout.focus()
        return false
    }

    else{
        err.css({'display':'none'})
    }

    })
})
</script>
{% endblock %}